
@{
    ViewBag.Title = "Register";
}

<div class="container-fluid my-5 py-5">
    <div class="container bg-white shadow-lg my-5 rounded-3 py-3">
        <form class="needs-validation my-5 mx-5" method="post" action="@Url.Action("NewUser", "Access")" novalidate>
            <h1 class="pt-3 pb-2">
                Join Zoodex
            </h1>
            <div class="mb-3">
                <label for="name" class="form-label">Name:</label>
                <input type="text" class="form-control rounded" name="name" id="name" aria-describedby="name" required>
                <div class="invalid-feedback">
                    Please input name
                </div>
            </div>
            <div class="mb-3">
                <label for="lastName" class="form-label">Last Name:</label>
                <input type="text" class="form-control rounded" name="lastName" id="lastName" aria-describedby="lastName" required>
                <div class="invalid-feedback">
                    Please input last name
                </div>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control rounded" name="email" id="email" aria-describedby="email" required>
                <div class="invalid-feedback">
                    Please input email
                </div>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control rounded" name="password" id="password" required>
                <div class="invalid-feedback" id="passwordFeedback">
                    Please input password
                </div>
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm your password</label>
                <input type="password" class="form-control rounded" name="confirmPassword" id="confirmPassword" required>
                <div class="invalid-feedback" id="confirmPasswordFeedback">
                    Please confirm you password
                </div>
            </div>
            <div class="d-flex justify-content-end">
                <a href="@Url.Action("Index", "Access")" class="green-light-text button-hover text-decoration-none pe-4 mt-2">
                    Do you already have an account?
                </a>
                <button type="submit" class="btn bg-green fw-bold text-white rounded border border-success button-hover mb-1">Register</button>
            </div>
        </form>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            var forms = $(".needs-validation");
            $.each(forms, function (_, form) {
                $(form).on("submit", function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    } else {
                        $("#passwordFeedback").html("Please input password");
                        $("#confirmPasswordFeedback").html("Please confirm you password");
                        if ($("#password").val() != $("#confirmPassword").val()) {
                            $("#passwordFeedback").html("Passwords must be the same");
                            $("#confirmPasswordFeedback").html("Passwords must be the same");
                            $("#password").addClass("is-invalid");
                            $("#confirmPassword").addClass("is-invalid");
                            event.preventDefault();
                            event.stopPropagation();
                        }
                    }
                    $(form).addClass("was-validated");
                });
            });
        });
    </script>
}